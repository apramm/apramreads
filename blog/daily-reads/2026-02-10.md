# Day 3 : Feb 10, 2026

## Two Pages Challenge

Today we start reading about different flavours of x64, particularly x64-linux

### What I Read Today

Introduction to Compiler Construction

- **x64 linux** : this is x64 using linux system calls compiled to elf64. This has few restrictions. 
- Example system calls : 'exit' to terminate properly, this call takes exit code (an int from 0 to 255 and determines if normal(0) or not (non 0)) which is passed to parent process when child process exits
- rax set to '60' means we about to call exit sys call in Linux, expects one arg 'exit code' in rdi
 - Calling convention in **x64 linux** : 
    - sys call number in 'rax'
    - args are set as per the chip req i.e., AMD64 ABI, System V (recall 313 how args were passed and 6 ordered register list : rdi, rsi, rdx, rcx, r8, and r9)
    - to compile this on Linux, we run `nasm -f elf64 exit-fact-x64-linux.s -o exit-fact-x64-linux.o`
    - this generates binary in elf64 target language (binary format on Linux)
    - we link the file by running `ld -e start -o exit-fact-x64-linux.exe exit-fact-x64-linux.o`, which essentially connects the binary to the operating system and any other external libraries, and specifies the entry point where execution should begin 
    - now, we can just execute the file `exit-fact-x64-linux.exe` on cmdline using `chmod +x exit-fact-x64-linux.exe` then, `./exit-fact-x64-linux.exe`

- to get result of exit code use `echo $?` or `echo $status`
- rax set as '1' means you about call print system call, rdi as 1 means standard output port and rsi is message, rdx is length

- **write system call ask for a need of memory buffer** : it's needed to store the message you printing
    - multiple ways to do it: statically allocate using label `msg:` and using the times keyword to allocate len bytes (indicated by dw) of space, and initializing each to 0

refer sys cals for linux <a href = "https://syscalls64.paolostivanin.com/">here</a>




### Reflection
Good reading about x64-linux, tomorrow we'll explore other flavors like x64-macos



---
